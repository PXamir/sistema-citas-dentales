<div class="dashboard-wrapper">

    <header class="main-header">
        <div class="header-content">
            <div class="logo-section">
                <i class="icon-calendar">ðŸ“…</i>
                <div>
                    <h1>Sistema de Citas Dentales</h1>
                    <p class="welcome-text">Bienvenido, {{ user?.nombre || 'Paciente' }} {{ user?.apellido }}</p>
                </div>
            </div>

            <div class="user-actions">
                <button class="btn-logout" (click)="logout()">
                    â†ª Cerrar SesiÃ³n
                </button>
            </div>
        </div>
    </header>

    <main class="main-content">

        <h2 class="section-title">Panel del Paciente</h2>
        <p class="section-subtitle">Administra tus citas y perfil desde aquÃ­</p>

        <div class="cards-grid stats-row">

            <div class="card stat-card accent-blue">
                <div class="card-header">
                    <span class="icon">ðŸ•’</span> PrÃ³xima Cita
                </div>
                <div class="card-body">
                    <div *ngIf="proximaCita; else noCita">
                        <h3>{{ proximaCita.fechaCita | date:'dd/MM/yyyy' }}</h3>
                        <p>{{ proximaCita.horaCita }} - {{ proximaCita.servicio?.nombre }}</p>
                        <small>Dr. {{ proximaCita.medico?.usuario?.apellido || 'Especialista' }}</small>
                    </div>

                    <ng-template #noCita>
                        <h3>Sin pendientes</h3>
                        <p>No tienes citas futuras programadas</p>
                    </ng-template>
                </div>
            </div>

            <div class="card stat-card accent-green">
                <div class="card-header">
                    <span class="icon">ðŸ“…</span> Total de Citas
                </div>
                <div class="card-body">
                    <h3 class="big-number">{{ totalCitas }}</h3>
                    <p>Citas registradas</p>
                </div>
            </div>

            <div class="card stat-card accent-purple">
                <div class="card-header">
                    <span class="icon">ðŸ“‹</span> Citas Completadas
                </div>
                <div class="card-body">
                    <h3 class="big-number">{{ citasCompletadas }}</h3>
                    <p>Consultas realizadas</p>
                </div>
            </div>
        </div>

        <div class="cards-grid actions-row">

            <div class="card action-card">
                <div class="icon-circle bg-blue">
                    ðŸ“…
                </div>
                <h3>Reservar Cita</h3>
                <p>Agenda una nueva cita con nuestros especialistas</p>
                <button class="btn btn-primary" (click)="irAgendar()">Ir a Reservar</button>
            </div>

            <div class="card action-card">
                <div class="icon-circle bg-green">
                    ðŸ“‚
                </div>
                <h3>Ver Mis Citas</h3>
                
                <p>Consulta, reprograma o cancela tus citas</p>
                <button class="btn btn-outline-green" (click)="irMisCitas()">Ver Citas</button>
            </div>

            <div class="card action-card">
                <div class="icon-circle bg-purple">
                    ðŸ‘¤
                </div>
                <h3>Mi Perfil</h3>
                <p>Actualiza tu informaciÃ³n personal</p>
                <button class="btn btn-outline-purple">Ver Perfil</button>
            </div>

        </div>

    </main>
</div>